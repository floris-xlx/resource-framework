-- resource_routes
create table if not exists public.resource_routes (
  id bigint generated by default as identity not null,
  created_at timestamp with time zone not null default now(),
  "table" text not null,
  id_column text null,
  enable_search boolean null default false,
  columns json null,
  search_by text null,
  company_id_column text null,
  disable_company_filter boolean null default false,
  enable_new_resource_creation boolean null default false,
  new_resource_button_text text null,
  new_resource_href text null,
  force_wrapping_header_labels boolean null default false,
  enable_edit boolean null default false,
  allowed_columns_edit json null,
  denied_columns_edit json null,
  scope text null,
  ignore_company_check_before_mutation boolean null default false,
  row_actions json null,
  avatar_column text null,
  page_label text null,
  icon text null,
  resource_route_id uuid null default gen_random_uuid (),
  permanent_edit_state boolean null default false,
  drilldown_route_prefix text null,
  sidebar_route text null,
  filter_options jsonb null,
  column_datatypes jsonb null,
  force_remove_back_button_store_on_index_resource boolean null default false,
  schema text null default 'public'::text,
  path text null default ''::text,
  resource_name text null,
  new_resource_mandatory_columns json null,
  new_resource_optional_columns json null,
  force_no_cache boolean null default true,
  constraint resource_routes_pkey primary key (id),
  constraint resource_routes_resource_name_key unique (resource_name)
) TABLESPACE pg_default;

-- resource_forms
create table if not exists public.resource_forms (
  id bigint generated by default as identity not null,
  resource_form_id uuid not null default gen_random_uuid (),
  company_id uuid null,
  created_at timestamp with time zone not null default now(),
  updated_at timestamp with time zone not null default now(),
  entity text not null,
  slug text not null,
  version integer not null default 1,
  experimental boolean not null default false,
  is_active boolean not null default true,
  error_key text null,
  schema jsonb not null,
  error_keys jsonb not null default '[]'::jsonb,
  tags text[] null default '{}'::text[],
  description text null,
  constraint resource_forms_pkey primary key (id),
  constraint resource_forms_resource_form_id_key unique (resource_form_id)
) TABLESPACE pg_default;

-- resource_charts
create table if not exists public.resource_charts (
  id bigserial not null,
  created_at timestamp with time zone not null default now(),
  table_name text not null,
  title text not null,
  color text not null,
  target_column text not null,
  calculation_strategy text not null,
  dragonfly_key text not null,
  chart_type text not null,
  x_axis_group_by text not null,
  has_label boolean not null default false,
  label_color_body text null,
  label_color_text text null,
  is_currency boolean not null default false,
  currency_number_format text null,
  show_last_updated_at boolean not null default true,
  is_percentage boolean not null default false,
  currency text null,
  chart_id uuid not null,
  enabled boolean not null default true,
  data_endpoint text null,
  eq_column text null,
  eq_value text null,
  constraint resource_charts_pkey primary key (id)
) TABLESPACE pg_default;


